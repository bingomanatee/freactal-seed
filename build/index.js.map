{"version":3,"sources":["webpack:///webpack/bootstrap fd47261dfa6f748765f5","webpack:///external \"lodash\"","webpack:///external \"react\"","webpack:///./src/Seed.js","webpack:///./src/localStorage.js","webpack:///./src/serialization.js","webpack:///./src/freactal.js","webpack:///./src/init.js","webpack:///./src/index.js","webpack:///external \"bottlejs\"","webpack:///external \"freactal\""],"names":["bottle","constant","a","factory","container","Seed","constructor","initialState","serializationSource","SEED_SERIALIZATION_NONE","SEED_SERIALIZATION_LOCAL_STORAGE","_propsMap","Map","_middleware","key","set","_effectsMap","_initializers","_localStorageAdded","_serializationSource","hash","forEach","data","value","localStorageHas","deserialize","localStorage","getItem","type","initialStateFilter","_initialStateFilter","_","isFunction","Error","computed","effects","length","initialize","state","_makeInitializers","useLocalStorage","use","addEffect","method","addStateProp","SEED_TYPE_STRING","options","has","get","Object","assign","addStateString","addStateInt","SEED_TYPE_INT","addStateObject","SEED_TYPE_OBJECT","addStateFloat","SEED_TYPE_FLOAT","addPropAndSetEffect","name","_addSetEffect","addStringAndSetEffect","addIntAndSetEffect","addFloatAndSetEffect","addObjectAndSetEffect","effectName","upperFirst","onSet","filterSet","updateEffectName","err","console","log","message","onSetAction","isString","then","oss","addSideEffect","args","noop","addStateSideEffect","addArrayPropAndSetEffects","methods","split","add","exec","includes","toLowerCase","getList","slice","uName","list","pName","push","unshift","filter","map","addBoolPropAndEffects","SEED_TYPE_BOOLEAN","_addBoolEffect","update","addMiddleware","middleware","_addLocalStorageMiddleware","freactalCtx","_serialize","hasOwnProperty","serialize","setItem","setSerialization","serializer","deSerializer","deserializer","addInitializer","order","initializers","sortBy","init","newState","toHash","isUndefined","window","DOMException","NotDomException","storage","x","removeItem","e","isStorageAvailable","out","JSON","parse","parseInt","isNaN","parseFloat","methodName","stringify","Math","floor","toString","seedInstance","provideState","injectState","Bottle","StateConfig","serialization","freactal","React","Component"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fd47261dfa6f748765f5","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0","import _ from 'lodash';\n\nexport default (bottle) => {\n  bottle.constant('noop', (a) => a);\n  bottle.factory('Seed', (container) => class Seed {\n\n      constructor(initialState = {}, serializationSource = container.SEED_SERIALIZATION_NONE) {\n        if (serializationSource === true) {\n          serializationSource = container.SEED_SERIALIZATION_LOCAL_STORAGE;\n        }\n        this._propsMap = new Map();\n        this._middleware = [];\n        for (let key in initialState) {\n          this._propsMap.set(key, initialState[key]);\n        }\n        this._effectsMap = new Map();\n        this._initializers = [];\n        this._localStorageAdded = false;\n        this._serializationSource = serializationSource;\n      }\n\n      get initialState() {\n        return () => {\n          let hash = {};\n          this._propsMap.forEach((data, key) => {\n            hash[key] = data.value;\n            if (container.localStorageHas(key)) {\n              if (data.deserialize) {\n                hash[key] = data.deserialize(container.localStorage.getItem(key));\n              }\n              else {\n                hash[key] = container.deserialize(container.localStorage.getItem(key),\n                  data.type);\n              }\n            }\n          });\n          if (this.initialStateFilter) {\n            return this.initialStateFilter(hash);\n          }\n          return hash;\n        }\n      }\n\n      get initialStateFilter() {\n        return this._initialStateFilter;\n      }\n\n      set initialStateFilter(value) {\n        if (value && (!_.isFunction(value))) {\n          throw new Error('initialStateFilter must be function ');\n        }\n\n        this._initialStateFilter = value;\n      }\n\n      /**\n       * Computed seems buggy in freactal; not enabling it here.\n       * @returns {{}}\n       */\n      get computed() {\n        return ({});\n      }\n\n      get effects() {\n        let hash = {};\n        this._effectsMap.forEach((value, key) => hash[key] = value);\n        if (this._initializers.length) {\n          hash.initialize = (state) => this._makeInitializers(hash);\n        }\n        return hash;\n      }\n\n      useLocalStorage(use = true) {\n        this.serializationSource = use ? container.SEED_SERIALIZATION_LOCAL_STORAGE : container.SEED_SERIALIZATION_NONE;\n      }\n\n      get serializationSource() {\n        return this._serializationSource;\n      }\n\n      set serializationSource(value) {\n        if ((value !== this._serializationSource) && this._localStorageAdded) {\n          throw new Error('attempt to change serialization type after it has been added to the middleware');\n        }\n        this._serializationSource = value;\n      }\n\n      /**\n       * add a single effect method to the effects collection\n       * @param key {string} the name of the effect\n       * @param method {function} the effect\n       */\n      addEffect(key, method) {\n        this._effectsMap.set(key, method);\n        return this;\n      }\n\n      /**\n       * Adds a value to the state collection. The Type is a hint\n       * that assists the serializers when syncing to localStorage.\n       *\n       * @param key {string} prop name\n       * @param value {var} initial value of the prop.\n       * @param type {string} the type of value to be stored.\n       * @param options {Object} extensions\n       */\n      addStateProp(key, value = null, type = container.SEED_TYPE_STRING, options = {}) {\n        if (this._propsMap.has(key)) {\n          let data = this._propsMap.get(key);\n          data.value = value;\n          data.type = type;\n          this._propsMap.set(key, data);\n        }\n        else {\n          this._propsMap.set(key, Object.assign({}, options, {value, type}));\n        }\n        return this;\n      }\n\n      addStateString(key, value, options = {}) {\n        this.addStateProp(key, value, container.SEED_TYPE_STRING, options);\n        return this;\n      }\n\n      addStateInt(key, value, options = {}) {\n        this.addStateProp(key, value, container.SEED_TYPE_INT, options);\n        return this;\n      }\n\n      addStateObject(key, value, options = {}) {\n        this.addStateProp(key, value, container.SEED_TYPE_OBJECT, options);\n        return this;\n      }\n\n      addStateFloat(key, value, options = {}) {\n        this.addStateProp(key, value, container.SEED_TYPE_FLOAT, options);\n        return this;\n      }\n\n      /**\n       * Both creates a default value for a property and a set method.\n       *   for example if you want to add an int property called \"priority\"\n       *   addPropAndSetEffect both creates a property\n       *\n       *\n       * @param name {String}\n       * @param value {var}\n       * @param type {String}\n       * @param options {Object}\n       */\n      addPropAndSetEffect(name, value, type = container.SEED_TYPE_STRING, options = {}) {\n        this.addStateProp(name, value, type, options);\n        this._addSetEffect(name, type, options);\n        return this;\n      }\n\n      addStringAndSetEffect(name, value, options = {}) {\n        this.addPropAndSetEffect(name, value, container.SEED_TYPE_STRING, options);\n        return this;\n      }\n\n      addIntAndSetEffect(name, value, options = {}) {\n        this.addPropAndSetEffect(name, value, container.SEED_TYPE_INT, options);\n        return this;\n      }\n\n      addFloatAndSetEffect(name, value, options = {}) {\n        this.addPropAndSetEffect(name, value, container.SEED_TYPE_FLOAT, options);\n        return this;\n      }\n\n      addObjectAndSetEffect(name, value, options = {}) {\n        this.addPropAndSetEffect(name, value, container.SEED_TYPE_OBJECT, options);\n        return this;\n      }\n\n      _addSetEffect(name, type = container.SEED_TYPE_STRING, options = {}) {\n        let effectName = 'set' + _.upperFirst(name);\n        const {onSet, filterSet} = options;\n        // @TODO: validation ??\n        if (onSet) {\n          let updateEffectName = 'update' + _.upperFirst(name);\n\n          this.addEffect(updateEffectName, (effects, value) => (state) => {\n            if (filterSet) {\n              try {\n                value = filterSet(value);\n              } catch (err) {\n                console.log('error setting ', name, 'to', value, err.message);\n                return state;\n              }\n            }\n            let hash = {};\n            hash[name] = value;\n            return Object.assign({}, state, hash);\n          });\n          this.addEffect(effectName, (effects, value) => () => {\n            let onSetAction = _.isString(onSet) ? effects[onSet] : onSet;\n            return effects[updateEffectName](value)\n              .then((state) => {\n                let oss = onSetAction(effects, state);\n                if (oss && oss.then) return oss.then;\n                return state\n              });\n          });\n        }\n        else {\n          this.addEffect(effectName, (effects, value) => (state) => {\n            if (filterSet) {\n              try {\n                value = filterSet(value);\n              } catch (err) {\n                console.log('error setting ', name, 'to', value, err.message);\n                return state;\n              }\n            }\n            let hash = {};\n            hash[name] = value;\n            return Object.assign({}, state, hash);\n          });\n        }\n      }\n\n      /**\n       * do an effect that does not mutate state. It affects things besides state,\n       * so the side effect executes and the effect returns state unmodified. .\n       *\n       * @param name {String}\n       * @param method {function}\n       */\n      addSideEffect(name, method) {\n        this.addEffect(name, function (effects, ...args) {\n          if (_.isString(method)) {\n            effects[method](effects, ...args);\n            return container.noop;\n          }\n          method(effects, ...args);\n          return container.noop;\n        });\n        return this;\n      }\n\n      /**\n       * Allows your method access to state AND effects in one call.\n       * @param name {string}\n       * @param method {function}\n       */\n      addStateSideEffect(name, method) {\n        this.addEffect(name, (effects, ...args) => {\n          return (state) => {\n            method(effects, state, ...args);\n            return state;\n          }\n        });\n        return this;\n      }\n\n      /** adds a series of endpoints for handling array data */\n      addArrayPropAndSetEffects(name, value = [], methods = 'push,unshift,map,element') {\n        if (methods) {\n          if (_.isString(methods)) {\n            methods = methods.split(',');\n          }\n        }\n        else {\n          methods = false;\n        }\n\n        const add = (name, exec) => {\n          if (!methods || _.includes(methods, name.toLowerCase())) {\n            exec();\n          }\n          else {\n            console.log('addArrayPropAndSetEffects -- skipping ', name);\n          }\n        };\n\n        const getList = (state) => (state[name] || []).slice(0);\n\n        const uName = _.upperFirst(name);\n        //@TODO: add type enforcement for values\n        this.addPropAndSetEffect(name, value ? value.slice(0) : [], container.SEED_TYPE_OBJECT);\n        add('element', () => {\n          this.addEffect(`setElement${uName}`, (effects, key, value) => (state) => {\n            //@TODO: key sanitization\n            let list = getList(state);\n            list[key] = value;\n            effects[`set${uName}`](list);\n            return state;\n          });\n        });\n\n        add('push', () => {\n          let pName = `pushTo${uName}`;\n          this.addEffect(pName, (effects, value) => (state) => {\n            let list = getList(state);\n            list.push(value);\n            effects[`set${uName}`](list);\n            return state;\n          });\n        });\n\n        add('unshift', () => {\n          this.addEffect(`unshiftTo${uName}`, (effects, value) => (state) => {\n            let list = getList(state);\n            list.unshift(value);\n            effects[`set${uName}`](list);\n            return state;\n          });\n        });\n\n        add('map', () => {\n          this.addEffect(`map${uName}`, (effects, filter) => (state) => {\n            effects[`set${uName}`](getList(state)\n              .map(filter));\n            return state;\n          });\n        });\n        return this;\n      }\n\n      addBoolPropAndEffects(name, value, options) {\n        this.addStateProp(name, !!value, container.SEED_TYPE_BOOLEAN, options);\n        this._addBoolEffect(name, options);\n        return this;\n      }\n\n      _addBoolEffect(name, options) {\n        this._addSetEffect(name, container.SEED_TYPE_BOOLEAN, options);\n        this.addEffect(`${name}On`, container.update((state) => {\n          let hash = {};\n          hash[name] = true;\n          return hash;\n        }))\n        this.addEffect(`${name}Off`, container.update((state) => {\n          let hash = {};\n          hash[name] = false;\n          return hash;\n        }))\n        return this;\n      }\n\n      /**\n       * adds a middleware pipe to the middleware list.\n       * @param method {function}\n       */\n      addMiddleware(method) {\n        this._middleware.push(method);\n        return this;\n      }\n\n      get middleware() {\n        if (container.localStorage && this.serializationSource === container.SEED_SERIALIZATION_LOCAL_STORAGE) {\n          this._addLocalStorageMiddleware();\n        } // add it at the end of any custom middleware.\n        return this._middleware.slice(0);\n        return this;\n      }\n\n      _addLocalStorageMiddleware() {\n        if (container.localStorage && !this._localStorageAdded) {\n          console.log('---- enabling local storage ----')\n          this.addMiddleware((freactalCtx) => {\n            this._propsMap.forEach((data, key) => {\n              // note: no way of checking inclusion of key in state ??\n              let value = freactalCtx.state[key];\n              this._serialize(key, value);\n            });\n            return freactalCtx;\n          });\n          this._localStorageAdded = true;\n        }\n      }\n\n      _serialize(key, value) {\n        if (!this._propsMap.has(key)) {\n          return;\n        }\n\n        const data = this._propsMap.get(key);\n        if (data.hasOwnProperty('serialize')) {\n          if (data.serialize === false) {\n            return;\n          }\n          container.localStorage.setItem(key, data.serialize(value));\n        }\n        else {\n          container.localStorage.setItem(key, container.serialize(value, data.type));\n        }\n      }\n\n      setSerialization(name, serializer, deSerializer) {\n        if (this._propsMap.has(name)) {\n          let data = this._propsMap.get(name);\n          data.serializer = serializer;\n          data.deserializer = deSerializer;\n        }\n        return this;\n      }\n\n\n      /**\n       * note - method can be a function or a name of another effect (string).\n       * @param method {string | function}\n       * @param order {number}\n       */\n      addInitializer(method, order = 0) {\n        this._initializers.push({method, order});\n        return this;\n      }\n\n      _makeInitializers() {\n        let initializers = _(this._initializers)\n          .sortBy('order')\n          .map('method')\n          .value();\n\n        if (!initializers.length) {\n          return container.noop;\n        }\n\n        return async (state) => {\n          for (let init of initializers) {\n            let newState = await init(state);\n            state = newState || state;\n          }\n          return state;\n        }\n      }\n\n      /**\n       * This method returns a simple Object with the properties of the seed.\n       * Not strictly necessary as Seed will have all the functionality of\n       * the returned hash, but for those who prefer \"freezing\" the signature\n       * of the seed, here you go.\n       *\n       * @returns {{effects, initialState: *, middleware: *}}\n       */\n      toHash() {\n        return {\n          effects: this.effects,\n          initialState: this.initialState,\n          middleware: this.middleware,\n          computed: this.computed\n        }\n      }\n    }\n  )\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Seed.js","import _ from \"lodash\";\n\nexport default (bottle) => {\n  /**\n   * this is a shim for window to ensure functionality on the server.\n   * In the absence of a global window, an empty object is returned.\n   */\n  bottle.factory('window', (container) => {\n    if (!_.isUndefined(window)) {\n      return window;\n    }\n    return {};\n  })\n\n  bottle.factory('DOMException', () => {\n    if (!_.isUndefined(DOMException)){\n      return DOMException;\n    } else {\n      class NotDomException {\n\n      }\n      return NotDomException;\n    }\n  })\n\n  bottle.factory('isStorageAvailable', (container) => function (type) {\n    /**\n     * this has been extracted from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\n     * note, to keep this usable in server / non browser contexts this uses an injected shim for window.\n     */\n    try {\n      var storage = container.window[type],\n        x = '__storage_test__';\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      return true;\n    }\n    catch (e) {\n      return false;\n    }\n  })\n  bottle.factory('localStorage', (container) => {\n    if (container.isStorageAvailable('localStorage')) {\n      return localStorage;\n    } else {\n      return false;\n    }\n  });\n\n  bottle.factory('localStorageHas', ({localStorage}) => {\n    if (!localStorage) {\n      return () => false;\n    }\n    return (key) => {\n      let value = localStorage.getItem(key);\n      if (value === 'null') { // I haven't tracked down how, but in some cases it seems the null value is stringified when serialized in localStorage.\n        return false;\n      }\n      return !!value;\n    }\n  });\n  /**\n   * converts a string value to a typed value.\n   * @param value\n   * @param type {string}\n   * @returns {var}\n   */\n}\n\n\n// WEBPACK FOOTER //\n// ./src/localStorage.js","import _ from \"lodash\";\n\nexport default(bottle) => {\n  ['SEED_TYPE_STRING',\n    'SEED_TYPE_OBJECT',\n    'SEED_TYPE_INT',\n    'SEED_TYPE_FLOAT',\n    'SEED_TYPE_BOOLEAN',\n    'SEED_SERIALIZATION_LOCAL_STORAGE',\n    'SEED_SERIALIZATION_NONE']\n    .forEach((name) => bottle.constant(name, name));\n  bottle.factory('deserialize', (container) => (value, type) => {\n    if (value === null || _.isUndefined(value)) {\n      return null;\n    }\n    let out = value;\n    switch (type) {\n      case container.SEED_TYPE_OBJECT:\n        try {\n          return JSON.parse(value);\n        } catch (err) {\n          // console.log('bad serialization of object ', value, err);\n          out = null;\n        }\n        break;\n\n      case container.SEED_TYPE_INT:\n        out = parseInt(value);\n        if (isNaN(out)) {\n          out = 0;\n        }\n        break;\n\n      case container.SEED_TYPE_FLOAT:\n        out = parseFloat(value);\n        if (isNaN(out)) {\n          out = 0;\n        }\n        break;\n\n      // note - booleans are serialized into '1' or '0';\n      case container.SEED_TYPE_BOOLEAN:\n        out = out === '1';\n        break;\n\n      default:\n        const methodName = `deserialize_${type}`\n        if (container[methodName] && _.isFunction(container[methodName])) {\n          out = container[methodName](value)\n        }\n    }\n    return out;\n  });\n\n  bottle.factory('serialize', (container) => (value, type) => {\n    if (value === null || _.isUndefined(value)) {\n      return null;\n    }\n    if (!type) {\n      type = container.SEED_TYPE_STRING;\n    }\n\n    let out = value;\n    switch (type) {\n      case container.SEED_TYPE_OBJECT:\n        try {\n          out = JSON.stringify(value);\n        } catch (err) {\n         // console.log('bad serialization of object: ', value, err);\n          out = null;\n        }\n        break;\n\n      case container.SEED_TYPE_INT:\n        out = isNaN(value) ? '0' : Math.floor(value).toString();\n        break;\n\n      case container.SEED_TYPE_FLOAT:\n        out = isNaN(value) ? '0' : value.toString();\n        break;\n\n      case container.SEED_TYPE_BOOLEAN:\n        out = value ? '1' : '0';\n        break;\n\n      case container.SEED_TYPE_STRING:\n        out = _.toString(value);\n        break;\n\n      default:\n        // allow for extensions:\n        const methodName = `serialize_${type}`\n        if (container[methodName] && _.isFunction(container[methodName])) {\n          out = container[methodName](value)\n        }\n    }\n    return out;\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/serialization.js","import {provideState, injectState, update} from 'freactal';\n\nexport default (bottle) => {\n  /**\n   * Note - all definition must be done BEFORE getWrapper is called.\n   * Also, this method binds the current version of Freactal to the one bound by this\n   * module. To use another version of Freactal, don't use getWrapper --\n   * call provideState from your version of freactal.\n   */\n  bottle.factory('getWrapper', (container) => (seedInstance) => container.provideState(seedInstance));\n  bottle.factory('injectState', () => injectState);\n  bottle.factory('update', () => update);\n  bottle.factory('provideState', () => provideState)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/freactal.js","import Bottle from 'bottlejs';\n\nimport StateConfig from './Seed';\nimport localStorage from './localStorage';\nimport serialization from './serialization';\nimport {Component} from 'react';\nimport React from 'react';\nimport freactal from './freactal';\n\n/**\n * returns a bottle with Seed resources\n */\nexport default () => {\n  let bottle = new Bottle();\n\n  StateConfig(bottle);\n  localStorage(bottle);\n  serialization(bottle);\n  freactal(bottle);\n\n  bottle.constant('React', React);\n  bottle.constant('Component', Component);\n\n  return bottle;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","import init from './init';\n\nconst bottle = init();\nconst Seed = bottle.container.Seed;\nexport default () => bottle.container.Seed;\n\n/**\n * note - you can modify bottle injectables\n * at any point before you call the default method\n * and instantiate your Seed.\n */\nexport {init, bottle};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"bottlejs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bottlejs\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"freactal\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"freactal\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}